<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Service - Elcodi Documentation</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">Elcodi Documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li >
                        <a href="../../..">Home</a>
                    </li>
                
                
                
                    <li >
                        <a href="../../../quick-start/">Quick start</a>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../../reference/attribute/">Attribute</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/banner/">Banner</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/cart-coupon/">Cart coupon</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/cart/">Cart</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/comment/">Comment</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/configuration/">Configuration</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/coupon/">Coupon</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/">Home</a>
                            </li>
                        
                            <li >
                                <a href="../../../reference/sitemap/">Sitemap</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Components <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../../components/attribute/">Attribute</a>
                            </li>
                        
                            <li >
                                <a href="../../../components/entityTranslator/">entityTranslator</a>
                            </li>
                        
                            <li >
                                <a href="../../../components/">Home</a>
                            </li>
                        
                            <li >
                                <a href="../../../components/menu/">Menu</a>
                            </li>
                        
                            <li >
                                <a href="../../../components/stateTransitionMachine/">stateTransitionMachine</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Bundles <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../../bundles/attribute/">Attribute</a>
                            </li>
                        
                            <li >
                                <a href="../../../bundles/entityTranslator/">entityTranslator</a>
                            </li>
                        
                            <li >
                                <a href="../../../bundles/">Home</a>
                            </li>
                        
                            <li >
                                <a href="../../../bundles/menu/">Menu</a>
                            </li>
                        
                            <li >
                                <a href="../../../bundles/sitemap/">Sitemap</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Book <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../../book/">Home</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/standards/classes/">Classes</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/standards/code/">Code</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/standards/dependency-injection/">Dependency injection</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/standards/packages-structure/">Packages structure</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/workflows/cart/">Cart</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/bundles/extensions/">Extensions</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/bundles/plugins/">Plugins</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/bundles/templates/">Templates</a>
                            </li>
                        
                            <li >
                                <a href="../../../book/philosophy/elcodi/">Elcodi</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbook <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../">Home</a>
                            </li>
                        
                            <li >
                                <a href="../../caveats/test-suite/">Test suite</a>
                            </li>
                        
                            <li >
                                <a href="../../installation/dependent-bundles/">Dependent bundles</a>
                            </li>
                        
                            <li >
                                <a href="../entity/">Entity</a>
                            </li>
                        
                            <li >
                                <a href="../parameter/">Parameter</a>
                            </li>
                        
                            <li class="active">
                                <a href="./">Service</a>
                            </li>
                        
                            <li >
                                <a href="../../implementation/controller-command/">Controller command</a>
                            </li>
                        
                            <li >
                                <a href="../../implementation/entity/">Entity</a>
                            </li>
                        
                            <li >
                                <a href="../../implementation/factory/">Factory</a>
                            </li>
                        
                            <li >
                                <a href="../../implementation/form-type/">Form type</a>
                            </li>
                        
                            <li >
                                <a href="../../implementation/repository/">Repository</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../parameter/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../implementation/controller-command/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#how-to-overwrite-a-service">How to overwrite a service</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="how-to-overwrite-a-service">How to overwrite a service</h1>
<p>To overwrite a service you must create a new class in your project, extend the 
main service and overwrite the methods you need to overwrite.</p>
<pre><code class="php">use Elcodi\Component\Cart\Services\CartManager;

/**
 * New cart manager
 */
class NewCartManager extends CartManager
{
    /**
     * Adds cartLine to Cart
     *
     * This method dispatches all Cart Check and Load events
     * It should NOT be used to add a Purchasable to a Cart,
     * by manually passing a newly crafted CartLine, since
     * no product duplication check is performed: in that
     * case CartManager::addProduct should be used
     *
     * @param CartInterface     $cart     Cart
     * @param CartLineInterface $cartLine Cart line
     *
     * @return $this Self object
     */
    protected function addLine(
        CartInterface $cart,
        CartLineInterface $cartLine
    ) {

        // My own addLine implementation
    }
}
</code></pre>

<p>Finally we need to let the project know that this new implementation is the one
we really want to use in our project. For this reason, we should redefine this
service in our <code>config.yml</code> file, and overwrite the main service implementation.</p>
<pre><code class="yaml">services:

    elcodi.manager.cart:
        cart: My\New\Bundle\Services\NewCartManager
        arguments:
            ...
</code></pre>

<p>Having done that, all the project will use your <code>elcodi.manager.cart</code> implementation 
instead of the default one.</p></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script src="../../../js/base.js"></script>

        <!--
        MkDocs version  : 0.12.1
        Docs Build Date : 2015-05-21 16:37:11.275592
        -->
    </body>
</html>